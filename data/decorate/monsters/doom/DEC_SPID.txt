actor SpiderMastermind_2
{
  spawnid 7
  obituary "%o stood in awe of the spider demon."
  health 6500
  radius 128
  height 100
  mass 1000
  speed 12
  painchance 40
  seesound "spider/sight"
  attacksound "spider/attack"
  painsound "spider/pain"
  deathsound "spider/death" 
  activesound "spider/active"
  MONSTER
  +BOSS
  +FLOORCLIP
  +NORADIUSDMG
  +DONTMORPH
  +MISSILEMORE
  +QUICKTORETALIATE
  Species "Spider"
  DamageFactor "Telefrag", 0.0
  damagetype "Cybermissile"
  DamageFactor "Telebomb", 10.0
  DropItem "MegaSphere2"
  DropItem "AmmoSphere2"
  states
  {
  Spawn:
    SPID A 0 
	SPID A 0 Thing_SetSpecial(0,226,613,0,random(600,700))
    SPID AB 10 A_Look
    goto Spawn+2
  See:
    SPID A 3 A_Metal
    SPID ABB 3 A_Chase
    SPID C 3 A_Metal
    SPID CDD 3 A_Chase
    SPID E 3 A_Metal
    SPID EFF 3 A_Chase
    SPID F 0  A_SpawnItemEx("SpiderStepDamage", 0, 0, 16, 0, 0, 0, 0, 0, 0)
    loop
  Missile:
    SPID A 20 bright A_FaceTarget
    SPID GH 4 bright A_SPosAttack
    SPID H 1 bright A_SpidRefire
    goto Missile+1
  Pain:
    POSS A 0 
    POSS A 0 A_GiveToTarget("CyberXP",1)
    SPID I 3
    SPID I 3 A_Pain
	TNT1 G 0 A_AlertMonsters
    goto See
  Death:
    SPID J 0 
    CYMM M 0 A_PlaySoundEx("spider/death","SoundSlot5",0,1)
    SPID J 0 A_Scream
    SPID J 15
    SPID JJJJJ 1 A_GiveToTarget("CyberXP",1)
    SPID K 10 A_NoBlocking
    SPID LMNOPQR 10
    SPID S 30
    SPID S -1 A_BossDeath
    stop
  }
}

actor SpiderStepDamage
{
  RenderStyle None
  +RANDOMIZE
  +NOCLIP
  PROJECTILE
  Speed 1
  Damage 0
  Scale 0.7
  DamageType "Step"
  states
  {
  Spawn:
    TNT1 A 0
    TNT1 A 10 bright A_Explode(25,160,0)
    stop
  }  
}

actor CyberMastermind
{
    Health 7000
    Radius 128
    Height 100
    Speed 12
    PainChance 30
    Mass 1000
    MONSTER 
    +FLOORCLIP
    +BOSS
    +NORADIUSDMG 
  +QUICKTORETALIATE
    SeeSound "cyber/sight"
    PainSound "spider/pain"
    DeathSound "cyber/death"
    ActiveSound "spider/active"
    Obituary "%o was destroyed by a cyber mastermind."
  Species "Spider"
  DamageFactor "Telefrag", 0.0
  damagetype "Cybermissile"
  DamageFactor "Telebomb", 600.0
    States
    {
    Spawn:
        CYMM A 0 
		CYMM A 0 Thing_SetSpecial(0,226,613,0,random(700,800))
	    CYMM AB 10 A_Look
	    goto Spawn+2
    See:
        CYMM AABB 3 A_Chase
        CYMM B 0 A_PlaySound("spider/walk")
        CYMM CCDD 3 A_Chase
        CYMM D 0 A_PlaySound("spider/walk")
        CYMM EEFF 3 A_Chase
        CYMM F 0 A_PlaySound("spider/walk")
    SPID F 0  A_SpawnItemEx("SpiderStepDamage", 0, 0, 16, 0, 0, 0, 0, 0, 0)
        loop
    Missile:
        CYMM A 20 A_FaceTarget
        CYBR E 0 A_Jump(32,"Missile2")
        CYMM GGHHGGHH 2 bright A_CustomMissile("SpiderBFGBlasterBall",48,0,random(-8,8))
        CYMM H 0 A_FaceTarget
    	CYMM F 0 BRIGHT A_CustomMissile("CyberdemonMissile",48,-24,random(-6,-1))
    	CYMM F 0 BRIGHT A_CustomMissile("CyberdemonMissile",48,-24,random(0,6))
        CYMM IIJJ 2 bright A_CustomMissile("SpiderBFGBlasterBall",48,-24,random(-8,8))
        CYMM J 1 A_SpidRefire
        Goto Missile+1
    Missile2:
        CYMM A 20 A_FaceTarget
        CYMM GGHHGGHH 2 bright A_CustomMissile("SpiderBFGBlasterBall",64,0,random(-8,8))
        CYMM H 0 A_FaceTarget
        CYBR E 0 A_PlayWeaponSound("brain/spit")
    	CYMM F 0 BRIGHT A_CustomMissile("StoneKnightCube",48,-24,-16)
    	CYMM F 0 BRIGHT A_CustomMissile("StoneKnightCube",48,-24,16)
    	CYMM F 0 BRIGHT A_CustomMissile("BruiserCube",48,-24,-32)
    	CYMM F 0 BRIGHT A_CustomMissile("BruiserCube",48,-24,32)
        CYMM IIJJ 2 bright A_CustomMissile("SpiderBFGBlasterBall",48,0,random(-8,8))
        CYMM J 1 A_SpidRefire
        Goto Missile+1
    Pain:
    POSS A 0 
    POSS A 0 A_GiveToTarget("CyberXP",1)
        CYMM K 4
        CYMM K 4 A_Pain
		TNT1 G 0 A_AlertMonsters
        goto See
    Death:
        CYMM M 0 
        CYMM M 0 A_PlaySoundEx("spider/death","SoundSlot5",0,1)
    CYMM L 0 A_Scream
    CYMM L 15
    CYMM LLLLL 1 A_GiveToTarget("CyberXP",1)
        CYMM M 10 
        CYMM N 10
        CYMM O 10 A_Fall
        CYMM PQRST 10
        CYMM T 0 A_BossDeath
        CYMM U -1
        Stop
    }
}

actor SpiderBFGBlasterBall
{
  radius 8
  height 8
  speed 25
  damage (15)
  renderstyle Add
  alpha 0.9
  seesound "bfg/alt"
  deathsound "bfg/explode2"
  PROJECTILE
  scale 0.2
  decal Scorch
  +SEEKERMISSILE
  states
  {
  Spawn:
    SHK2 A -1 BRIGHT
    loop
  Death:
    TNT1 A 0
    TNT1 A 1 A_SpawnItemEx("ExplosionSmall", 0, 0, 0, 0, 0, 0, 0, 0, 0)
	TNT1 G 0 A_AlertMonsters
    stop
  }
}
